// DEBUG: MIXINS

// # Debug compare values
// This Mixin enable map value compate
// @arguments: $prod, $dev,$white-list,$scope(optional)
// - Logic:
// -- if both maps has a key check key value.
// --- if value is the same, prompt  âœ…  pass with $key name.
// --- if value is not the same and is whit listed prompt white list message
// --- else if prompt âŒ fail with $key name and values
// -- if $prod has key, prompt missing output message
//
@mixin debug-compare-values(
  $prod,
  $dev,
  $custom-props-values,
  $white-list,
  $reference-key-map,
  $title:null,
  $scope:basic
) {
  @debug "\a âšª âšª âšª âšª âšª âšª âšª âšª âšª  \a #{to-upper-case($scope)} THEME: #{to-upper-case($title)}; \a âšª âšª âšª âšª âšª âšª âšª âšª âšª  ";
  $i: 0;
  $num-pass: 0;
  $num-custom-properties: 0;
  $num-white-list: 0;
  $num-fail: 0;
  $num-reference-missing:0;
  $num-missing: 0;

  @debug "ğŸ”· Validating keys ... ğŸ”·";
  @each $key, $value in $reference-key-map {
    @if map-has-key($reference-key-map, $key) and not map-has-key($prod,$key) {
      $num-reference-missing: $num-reference-missing +1;
      @debug "[#{$i}] ğŸ”¶ --#{$key} missing from new output when checked prod against boilerplate";
    }
  }

  @debug "ğŸ”· Validating values ... ğŸ”·";
  @each $key, $value in $prod {
    $i: $i+1;
    @if map-has-key($prod, $key) and map-has-key($dev,$key) {
      @if #{$value} == #{map-get($dev,$key)} {
        $num-pass: $num-pass+1;
        @if $debug-show-pass {
          @debug "[#{$i}] âœ… PASS --#{$key} ";
        }
      } @else if map-has-key($custom-props-values, $key) {
        @debug "[#{$i}] ğŸŸ© FALSE FAIL â•â• CUSTOM PROPERTY REFERANCE: \a --#{$key}: #{$value } == #{map-get($custom-props-values,$key)} ==> #{map-get($dev,$key)} Referance value ==  #{map-get($dev,$key)} ";
        $num-custom-properties: $num-custom-properties+1;
      } @else if map-has-key($white-list, $key) {
        @debug "[#{$i}] â¬œ FALSE FAIL ,[WHITE LISTED] --#{$key} #{$value} changed to  #{map-get($white-list,$key)}";
        $num-white-list: $num-white-list +1;
      } @else {
        @debug "[#{$i}] âŒ FAIL, --#{$key},#{map-get($prod,$key)} , â­• #{map-get($dev,$key)} ";
        $num-fail: $num-fail + 1;
      }
    }

    @if map-has-key($prod, $key) and not map-has-key($dev,$key) {
      $num-missing: $num-missing +1;
      @debug "[#{$i}] ğŸ”¶ fix me, --#{$key} missing from new output when checked prod against dev";
    }
  }
  @debug "\a ğŸŸ¦ TESTS RESULTS FOR #{to-upper-case($scope) THEME}  #{to-upper-case($title)} ARE:\a Total: #{$i} âœ… Pass #{$num-pass} ğŸŸ© Custom properties #{$num-custom-properties}  ğŸŸ¨ï¸ï¸ï¸ White list #{$num-white-list} ğŸ”¶ Missing Aginast boilerplate #{$num-reference-missing}  ğŸ”¶ Missing #{$num-missing}  âŒ Fails #{$num-fail}";
}
